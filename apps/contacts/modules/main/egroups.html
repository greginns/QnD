<page id='contacts-egroups' style='display: none;'>
  <section id='contacts-egroups-section'>
    <div class='row justify-content-center'>
      
      <div class='col-12 col-md-6 col-lg-4 col-xl-3'>
        <div class='card'>
          <div class='card-header'>
            <div class='row'>
              <div class='col-6'>
                <h4>
                  Egroups
                </h4>
              </div>
              <div class='col-6'>
                <div class='d-md-none'>
                  <span mvc-hide='existingEntry'>
                    {{ buttons.btn(class='success', mvc_click='newgroup', text='+ E-Group') }}
                  </span>
                </div>
              </div>
            </div>          
          </div>
          
          <div class='card-body' style='padding: 0px'>
            <div style='height: calc(100vh - 130px); overflow-y: auto'>
              <ul class="list-group list-group-flush" mvc-each='egroups' mvc-click='listClicked' id='egroupList'>
                <button type="button" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" mvc-attr='{"data-pk": "egroups.$index.id"}' mvc-disabled='egroup.id'>
                  <span mvc-text='egroups.$index.desc'></span>
                  <span mvc-text='egroups.$index.id'></span>
                </button>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class='col-12 col-md-6 col-lg-6 col-xl-9'>
        <div class='card'>
          <div class='card-header'>
            <div class='row'>
              <div class='col-5'>
                {{ fields.Char(type='text', id=egroup.id.id, maxlength=egroup.id.maxLength, mvc_value='egroup.id', mvc_event_type='blur', mvc_disabled='existingEntry', mvc_edit='upper', label=egroup.id.verbose) }}
              </div>
              <div class='col-2'></div>
              <div class='col-5'>
                {{ fields.Switch(id=egroup.active.id, mvc_checked='egroup.active', label=egroup.active.verbose) }}
              </div>
            </div>          
          </div>
          
          <div class='card-body'>
            <div class='row'>
              <div class='col-12 col-xl-6'>
                <div class='row'>
                  <div class='col-12 mb-3'>
                    {{ fields.Char(type='text', id=egroup.desc.id, maxlength=egroup.desc.maxLength, mvc_value='egroup.desc', label=egroup.desc.verbose) }}
                  </div>
                </div>
              </div>
            </div>

            <div class='row'>
              <div class='col-12 col-xl-6'>
                <div class='row'>
                  <div class='col-12 mb-3'>
                    {{ fields.SelectChoices(id=egroup.freq.id, size='1', mvc_value='egroup.freq', choices=egroup.freq.choices, label=egroup.freq.verbose) }}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class='card-footer'>
            <div class='row' mvc-show='badMessage'>
              <div class='col-12'>
                <div class="alert alert-danger" role="alert">
                  <span mvc-text='badMessage'></span>  
                </div>
              </div>
            </div>         

            <div class='row'>
              <div class='col-12'>
                <span mvc-hide='existingEntry'>
                  {{ buttons.btn(class='primary mb-3 mb-lg-0', mvc_click='save', text='Add Group') }}
                </span>
                <span mvc-show='existingEntry'>
                  {{ buttons.btn(class='primary mb-3 mb-lg-0', mvc_click='save', text='Update Group') }}
                  {{ buttons.btn(class='danger mb-3 mb-lg-0', mvc_click='delete', text='Delete Group') }}
                </span>
                {{ buttons.btn(class='warning mb-3 mb-lg-0', mvc_click='clear', text='Clear') }}
              </div>
            </div>            
          </div>
        </div>

      </div>
    </div>
  </section>
</page>